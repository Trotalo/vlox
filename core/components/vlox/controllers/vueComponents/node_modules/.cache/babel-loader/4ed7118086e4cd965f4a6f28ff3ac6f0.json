{"remainingRequest":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/babel-loader/lib/index.js!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue","mtime":1647303164707},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/babel.config.js","mtime":1646933186444},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/babel-loader/lib/index.js","mtime":1647300050347},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js","mtime":1647300050627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qCmF4aW9zLmdldCh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyBWdWUucHJvdG90eXBlLiRyZXN0Um91dGUgKyAnL3Jlc3QvYmxvY2tzJykKICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgYmxvY2tMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pCiAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICBhbGVydCgnVGhlIGFqYXggcGV0aXRpb24gaGFzIHByb2JsZW0gZG9pbmcgYSBHRVQgcmVxdWVzdCwgcGxlYXNlIHZlcmlmeSB0aGUgYmxvY2tzIENvbnRyb2xsZXIuJyk7CiAgICB9KTsKKi8KCi8qCkV4YW1wbGUgb2YgY3VzdG9tIHZhbGlkYXRpb24KVmVlVmFsaWRhdGUuZXh0ZW5kKCdkZXNjcmlwdGlvbicsIHsKICB2YWxpZGF0ZTogKHZhbHVlKSA9PiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gOSksCiAgbWVzc2FnZTogJ1BsZWFzZSBhZGQgYSBkZXNjcmlwdGlvbiBvZiBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzJwp9KTsqLwovLyBSZWdpc3RlciB0aGUgY29tcG9uZW50IGdsb2JhbGx5LgovL1Z1ZS5jb21wb25lbnQoJ3ZhbGlkYXRpb24tcHJvdmlkZXInLCBWZWVWYWxpZGF0ZS5WYWxpZGF0aW9uUHJvdmlkZXIpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm5ldy1ibG9jay1jb21wb25lbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBibG9ja0RhdGE6IHsKICAgICAgICBjaHVua05hbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJwogICAgICB9LAogICAgICB2YWxpZE5hbWU6IG51bGwsCiAgICAgIGJsb2NrTGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNlbGVjdEJsb2NrOiBmdW5jdGlvbiBvblNlbGVjdEJsb2NrKGJsb2NrRGF0YSkgewogICAgICB0aGlzLmJsb2NrRGF0YSA9IGJsb2NrRGF0YTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBvbmVudFByZXZpZXcnKS5zcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcG9uZW50UHJldmlldycpLnNyYzsKICAgIH0sCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBheGlvc0NvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIG1vZGFsUmVmID0gdGhpcy4kYnZNb2RhbDsgLy9maXJzdCB2YWxpZGF0ZSB0aGF0IHRoZSBibG9jayBkb2VzIG5vdCBleGlzdHMKCiAgICAgIC8qYXhpb3MuZ2V0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIFZ1ZS5wcm90b3R5cGUuJHJlc3RSb3V0ZSArICcvcmVzdC9pbmRleC5waHA/X3Jlc3Q9QmxvY2tzLycsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgYXhpb3NDb25maWcpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Jsb2NrLXNlbGVjdGVkJywgcmVzcG9uc2UuZGF0YS5vYmplY3QpOwogICAgICAgICAgICAvL3RoaXMuJHJvb3QuJGVtaXQoJ3JlbG9hZC1ib2Nrcy1saXN0JywgZGF0YSk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlJywgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuYmxvY2tEYXRhLmNodW5rTmFtZSA9ICcnOwogICAgICAgICAgICB0aGlzLmJsb2NrRGF0YS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgICAgICBtb2RhbFJlZi5oaWRlKCduZXctYmxvY2snKTsKICAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW9JZnJhbWUnKS5zcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtb0lmcmFtZScpLnNyYzsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yQWpheCgpOwogICAgICAgICAgfSk7Ki8KICAgICAgLy8gVE9ETyByZWVuYWJsZSB0byB1c2UgcmlndGggYXBpIGVuZHBvaW50IGluc3RlYWQgb2YgdGhpcwoKICAgICAgdGhpcy4kYXhpb3MucHV0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIHRoaXMuJHJlc3RSb3V0ZSArICcvcmVzdC9pbmRleC5waHA/X3Jlc3Q9QmxvY2tzLycsIGRhdGEsIGF4aW9zQ29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLiRlbWl0KCdibG9jay1zZWxlY3RlZCcsIHJlc3BvbnNlLmRhdGEub2JqZWN0KTsgLy90aGlzLiRyb290LiRlbWl0KCdyZWxvYWQtYm9ja3MtbGlzdCcsIGRhdGEpOwoKCiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlJywgdHJ1ZSk7CgogICAgICAgIF90aGlzLmJsb2NrRGF0YS5jaHVua05hbWUgPSAnJzsKICAgICAgICBfdGhpcy5ibG9ja0RhdGEuZGVzY3JpcHRpb24gPSAnJzsKICAgICAgICBtb2RhbFJlZi5oaWRlKCduZXctYmxvY2snKTsgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtb0lmcmFtZScpLnNyYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vSWZyYW1lJykuc3JjOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CgogICAgICAgIF90aGlzLnNob3dFcnJvckFqYXgoKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,6BADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,qBADA;AAEAC;AAFA,OADA;AAKAC,qBALA;AAMAC;AANA;AAQA,GAXA;AAYAC;AACAC,iBADA,yBACAN,SADA,EACA;AACA;AACAO;AACA,KAJA;AAKAC,QALA,gBAKAT,IALA,EAKA;AAAA;;AACA;AACAU;AACA,4CADA;AAEA;AAFA;AADA;AAMA,mCAPA,CAQA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;;AACA,kIACAV,IADA,EAEAW,WAFA,EAGAC,IAHA,CAGA;AACA,4DADA,CAEA;;;AACA;;AACA;AACA;AACAC,mCANA,CAQA;AACA,OAZA,EAaAC,KAbA,CAaA;AACAC;;AACA;AACA,OAhBA;AAiBAA;AACA;AAlDA;AAZA","names":["name","data","blockData","chunkName","description","validName","blockList","methods","onSelectBlock","document","save","headers","axiosConfig","then","modalRef","catch","console"],"sourceRoot":"vloxEditor/src/components","sources":["newBlockComponent.vue"],"sourcesContent":["<!--\n  - This file is part of VloX.\n  -\n  - Copyright (c) TROTALO, SAS. All Rights Reserved.\n  -\n  - For complete copyright and license information, see the COPYRIGHT and LICENSE\n  - files found in the top-level directory of this distribution.\n  -->\n\n<template>\n  <b-modal\n      ref=\"new-block\" id=\"new-block\" title=\"New VloX\" size=\"xl\" scrollable>\n    <b-form class=\"smallForm\">\n      <b-form-group\n          id=\"input-group-1\"\n          label=\"Block name\"\n          label-for=\"input-1\">\n        <validation-provider name=\"Name\" rules=\"min:5|alpha_dash\" v-slot=\"{ errors }\">\n          <b-form-input\n              id=\"input-1\"\n              v-model=\"blockData.chunkName\"\n              placeholder=\"Enter at least 5 characters\"\n              :state=\"validName\"\n              required>\n          </b-form-input>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-2\" label=\"Blocks description:\" label-for=\"input-2\">\n        <validation-provider name=\"Description\" rules=\"min:10|alpha_spaces\" v-slot=\"{ errors }\">\n          <b-form-textarea\n              id=\"textarea\"\n              v-model=\"blockData.description\"\n              placeholder=\"Enter a description for your block\"\n              rows=\"3\"\n              max-rows=\"6\"\n          ></b-form-textarea>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n    </b-form>\n    <template #modal-footer>\n      <div class=\"addButton w-100\">\n        <b-button\n            variant=\"outline-primary\"\n            class=\"addvloxBlock\"\n            @click=\"save(blockData)\"\n            type=\"button\">Create Block\n        </b-button>\n      </div>\n    </template>\n  </b-modal>\n</template>\n\n<script>\n\n/*\naxios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/blocks')\n    .then(response => {\n      blockList = response.data;\n    })\n    .catch(error => {\n      alert('The ajax petition has problem doing a GET request, please verify the blocks Controller.');\n    });\n*/\n\n/*\nExample of custom validation\nVeeValidate.extend('description', {\n  validate: (value) => (value && value.length > 9),\n  message: 'Please add a description of at least 10 characters'\n});*/\n// Register the component globally.\n//Vue.component('validation-provider', VeeValidate.ValidationProvider);\n\nexport default {\n  name: \"new-block-component\",\n  data() {\n    return {\n      blockData: {\n        chunkName: '',\n        description: ''\n      },\n      validName: null,\n      blockList: [],\n    }\n  },\n  methods: {\n    onSelectBlock (blockData) {\n      this.blockData = blockData;\n      document.getElementById('componentPreview').src = document.getElementById('componentPreview').src;\n    },\n    save(data) {\n      let axiosConfig = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        }\n      };\n      const modalRef = this.$bvModal;\n      //first validate that the block does not exists\n      /*axios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });*/\n      // TODO reenable to use rigth api endpoint instead of this\n      this.$axios.put(window.location.protocol + \"//\" + window.location.host + this.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });\n      console.log(data);\n    },\n  }\n};\n</script>\n<style scope>\n\n</style>"]}]}