{"remainingRequest":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/babel-loader/lib/index.js!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue","mtime":1647302511087},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/babel.config.js","mtime":1646933186444},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/babel-loader/lib/index.js","mtime":1647300050347},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js","mtime":1647300050627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGJsb2NrTGlzdCA9IFtdOwovKgpheGlvcy5nZXQod2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgVnVlLnByb3RvdHlwZS4kcmVzdFJvdXRlICsgJy9yZXN0L2Jsb2NrcycpCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGJsb2NrTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgYWxlcnQoJ1RoZSBhamF4IHBldGl0aW9uIGhhcyBwcm9ibGVtIGRvaW5nIGEgR0VUIHJlcXVlc3QsIHBsZWFzZSB2ZXJpZnkgdGhlIGJsb2NrcyBDb250cm9sbGVyLicpOwogICAgfSk7CiovCgovKgpFeGFtcGxlIG9mIGN1c3RvbSB2YWxpZGF0aW9uClZlZVZhbGlkYXRlLmV4dGVuZCgnZGVzY3JpcHRpb24nLCB7CiAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4gKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDkpLAogIG1lc3NhZ2U6ICdQbGVhc2UgYWRkIGEgZGVzY3JpcHRpb24gb2YgYXQgbGVhc3QgMTAgY2hhcmFjdGVycycKfSk7Ki8KLy8gUmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBnbG9iYWxseS4KLy9WdWUuY29tcG9uZW50KCd2YWxpZGF0aW9uLXByb3ZpZGVyJywgVmVlVmFsaWRhdGUuVmFsaWRhdGlvblByb3ZpZGVyKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibmV3LWJsb2NrLWNvbXBvbmVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJsb2NrRGF0YTogewogICAgICAgIGNodW5rTmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH0sCiAgICAgIHZhbGlkTmFtZTogbnVsbCwKICAgICAgYmxvY2tMaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VsZWN0QmxvY2s6IGZ1bmN0aW9uIG9uU2VsZWN0QmxvY2soYmxvY2tEYXRhKSB7CiAgICAgIHRoaXMuYmxvY2tEYXRhID0gYmxvY2tEYXRhOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcG9uZW50UHJldmlldycpLnNyYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wb25lbnRQcmV2aWV3Jykuc3JjOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGF4aW9zQ29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonCiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgbW9kYWxSZWYgPSB0aGlzLiRidk1vZGFsOyAvL2ZpcnN0IHZhbGlkYXRlIHRoYXQgdGhlIGJsb2NrIGRvZXMgbm90IGV4aXN0cwoKICAgICAgLypheGlvcy5nZXQod2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgVnVlLnByb3RvdHlwZS4kcmVzdFJvdXRlICsgJy9yZXN0L2luZGV4LnBocD9fcmVzdD1CbG9ja3MvJywKICAgICAgICAgIGRhdGEsCiAgICAgICAgICBheGlvc0NvbmZpZykKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnYmxvY2stc2VsZWN0ZWQnLCByZXNwb25zZS5kYXRhLm9iamVjdCk7CiAgICAgICAgICAgIC8vdGhpcy4kcm9vdC4kZW1pdCgncmVsb2FkLWJvY2tzLWxpc3QnLCBkYXRhKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2UnLCB0cnVlKTsKICAgICAgICAgICAgdGhpcy5ibG9ja0RhdGEuY2h1bmtOYW1lID0gJyc7CiAgICAgICAgICAgIHRoaXMuYmxvY2tEYXRhLmRlc2NyaXB0aW9uID0gJyc7CiAgICAgICAgICAgIG1vZGFsUmVmLmhpZGUoJ25ldy1ibG9jaycpOwogICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtb0lmcmFtZScpLnNyYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vSWZyYW1lJykuc3JjOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgdGhpcy5zaG93RXJyb3JBamF4KCk7CiAgICAgICAgICB9KTsqLwogICAgICAvLyBUT0RPIHJlZW5hYmxlIHRvIHVzZSByaWd0aCBhcGkgZW5kcG9pbnQgaW5zdGVhZCBvZiB0aGlzCgogICAgICB0aGlzLiRheGlvcy5wdXQod2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgdGhpcy4kcmVzdFJvdXRlICsgJy9yZXN0L2luZGV4LnBocD9fcmVzdD1CbG9ja3MvJywgZGF0YSwgYXhpb3NDb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2Jsb2NrLXNlbGVjdGVkJywgcmVzcG9uc2UuZGF0YS5vYmplY3QpOyAvL3RoaXMuJHJvb3QuJGVtaXQoJ3JlbG9hZC1ib2Nrcy1saXN0JywgZGF0YSk7CgoKICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2UnLCB0cnVlKTsKCiAgICAgICAgX3RoaXMuYmxvY2tEYXRhLmNodW5rTmFtZSA9ICcnOwogICAgICAgIF90aGlzLmJsb2NrRGF0YS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgIG1vZGFsUmVmLmhpZGUoJ25ldy1ibG9jaycpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vSWZyYW1lJykuc3JjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW9JZnJhbWUnKS5zcmM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgX3RoaXMuc2hvd0Vycm9yQWpheCgpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAA,6BADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,qBADA;AAEAC;AAFA,OADA;AAKAC,qBALA;AAMAC;AANA;AAQA,GAXA;AAYAC;AACAC,iBADA,yBACAN,SADA,EACA;AACA;AACAO;AACA,KAJA;AAKAC,QALA,gBAKAT,IALA,EAKA;AAAA;;AACA;AACAU;AACA,4CADA;AAEA;AAFA;AADA;AAMA,mCAPA,CAQA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;;AACA,kIACAV,IADA,EAEAW,WAFA,EAGAC,IAHA,CAGA;AACA,4DADA,CAEA;;;AACA;;AACA;AACA;AACAC,mCANA,CAQA;AACA,OAZA,EAaAC,KAbA,CAaA;AACAC;;AACA;AACA,OAhBA;AAiBAA;AACA;AAlDA;AAZA","names":["name","data","blockData","chunkName","description","validName","blockList","methods","onSelectBlock","document","save","headers","axiosConfig","then","modalRef","catch","console"],"sourceRoot":"vloxEditor/src/components","sources":["newBlockComponent.vue"],"sourcesContent":["<!--\n  - This file is part of VloX.\n  -\n  - Copyright (c) TROTALO, SAS. All Rights Reserved.\n  -\n  - For complete copyright and license information, see the COPYRIGHT and LICENSE\n  - files found in the top-level directory of this distribution.\n  -->\n\n<template>\n  <b-modal\n      ref=\"new-block\" id=\"new-block\" title=\"New VloX\" size=\"xl\" scrollable>\n    <b-form class=\"smallForm\">\n      <b-form-group\n          id=\"input-group-1\"\n          label=\"Block name\"\n          label-for=\"input-1\">\n        <validation-provider name=\"Name\" rules=\"min:5|alpha_dash\" v-slot=\"{ errors }\">\n          <b-form-input\n              id=\"input-1\"\n              v-model=\"blockData.chunkName\"\n              placeholder=\"Enter at least 5 characters\"\n              :state=\"validName\"\n              required>\n          </b-form-input>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-2\" label=\"Blocks description:\" label-for=\"input-2\">\n        <validation-provider name=\"Description\" rules=\"min:10|alpha_spaces\" v-slot=\"{ errors }\">\n          <b-form-textarea\n              id=\"textarea\"\n              v-model=\"blockData.description\"\n              placeholder=\"Enter a description for your block\"\n              rows=\"3\"\n              max-rows=\"6\"\n          ></b-form-textarea>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n    </b-form>\n    <template #modal-footer>\n      <div class=\"addButton w-100\">\n        <b-button\n            variant=\"outline-primary\"\n            class=\"addvloxBlock\"\n            @click=\"save(blockData)\"\n            type=\"button\">Create Block\n        </b-button>\n      </div>\n    </template>\n  </b-modal>\n</template>\n\n<script>\nlet blockList = [];\n/*\naxios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/blocks')\n    .then(response => {\n      blockList = response.data;\n    })\n    .catch(error => {\n      alert('The ajax petition has problem doing a GET request, please verify the blocks Controller.');\n    });\n*/\n\n/*\nExample of custom validation\nVeeValidate.extend('description', {\n  validate: (value) => (value && value.length > 9),\n  message: 'Please add a description of at least 10 characters'\n});*/\n// Register the component globally.\n//Vue.component('validation-provider', VeeValidate.ValidationProvider);\n\nexport default {\n  name: \"new-block-component\",\n  data() {\n    return {\n      blockData: {\n        chunkName: '',\n        description: ''\n      },\n      validName: null,\n      blockList: [],\n    }\n  },\n  methods: {\n    onSelectBlock (blockData) {\n      this.blockData = blockData;\n      document.getElementById('componentPreview').src = document.getElementById('componentPreview').src;\n    },\n    save(data) {\n      let axiosConfig = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        }\n      };\n      const modalRef = this.$bvModal;\n      //first validate that the block does not exists\n      /*axios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });*/\n      // TODO reenable to use rigth api endpoint instead of this\n      this.$axios.put(window.location.protocol + \"//\" + window.location.host + this.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });\n      console.log(data);\n    },\n  }\n};\n</script>\n<style scope>\n\n</style>"]}]}