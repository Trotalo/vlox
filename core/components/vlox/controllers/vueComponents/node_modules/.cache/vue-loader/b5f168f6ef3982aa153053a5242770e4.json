{"remainingRequest":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/vloxEditor/src/components/newBlockComponent.vue","mtime":1647303164707},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/babel-loader/lib/index.js","mtime":1647300050347},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/cache-loader/dist/cjs.js","mtime":1647300049477},{"path":"/home/camicase82/development/krakenBlocks/www/html/vlox/core/components/vlox/controllers/vueComponents/node_modules/vue-loader/lib/index.js","mtime":1647300050627}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgovKgpheGlvcy5nZXQod2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgVnVlLnByb3RvdHlwZS4kcmVzdFJvdXRlICsgJy9yZXN0L2Jsb2NrcycpCiAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGJsb2NrTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KQogICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgYWxlcnQoJ1RoZSBhamF4IHBldGl0aW9uIGhhcyBwcm9ibGVtIGRvaW5nIGEgR0VUIHJlcXVlc3QsIHBsZWFzZSB2ZXJpZnkgdGhlIGJsb2NrcyBDb250cm9sbGVyLicpOwogICAgfSk7CiovCgovKgpFeGFtcGxlIG9mIGN1c3RvbSB2YWxpZGF0aW9uClZlZVZhbGlkYXRlLmV4dGVuZCgnZGVzY3JpcHRpb24nLCB7CiAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4gKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDkpLAogIG1lc3NhZ2U6ICdQbGVhc2UgYWRkIGEgZGVzY3JpcHRpb24gb2YgYXQgbGVhc3QgMTAgY2hhcmFjdGVycycKfSk7Ki8KLy8gUmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBnbG9iYWxseS4KLy9WdWUuY29tcG9uZW50KCd2YWxpZGF0aW9uLXByb3ZpZGVyJywgVmVlVmFsaWRhdGUuVmFsaWRhdGlvblByb3ZpZGVyKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibmV3LWJsb2NrLWNvbXBvbmVudCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJsb2NrRGF0YTogewogICAgICAgIGNodW5rTmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH0sCiAgICAgIHZhbGlkTmFtZTogbnVsbCwKICAgICAgYmxvY2tMaXN0OiBbXSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VsZWN0QmxvY2sgKGJsb2NrRGF0YSkgewogICAgICB0aGlzLmJsb2NrRGF0YSA9IGJsb2NrRGF0YTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBvbmVudFByZXZpZXcnKS5zcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcG9uZW50UHJldmlldycpLnNyYzsKICAgIH0sCiAgICBzYXZlKGRhdGEpIHsKICAgICAgbGV0IGF4aW9zQ29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLAogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc3QgbW9kYWxSZWYgPSB0aGlzLiRidk1vZGFsOwogICAgICAvL2ZpcnN0IHZhbGlkYXRlIHRoYXQgdGhlIGJsb2NrIGRvZXMgbm90IGV4aXN0cwogICAgICAvKmF4aW9zLmdldCh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyBWdWUucHJvdG90eXBlLiRyZXN0Um91dGUgKyAnL3Jlc3QvaW5kZXgucGhwP19yZXN0PUJsb2Nrcy8nLAogICAgICAgICAgZGF0YSwKICAgICAgICAgIGF4aW9zQ29uZmlnKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLiRlbWl0KCdibG9jay1zZWxlY3RlZCcsIHJlc3BvbnNlLmRhdGEub2JqZWN0KTsKICAgICAgICAgICAgLy90aGlzLiRyb290LiRlbWl0KCdyZWxvYWQtYm9ja3MtbGlzdCcsIGRhdGEpOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZScsIHRydWUpOwogICAgICAgICAgICB0aGlzLmJsb2NrRGF0YS5jaHVua05hbWUgPSAnJzsKICAgICAgICAgICAgdGhpcy5ibG9ja0RhdGEuZGVzY3JpcHRpb24gPSAnJzsKICAgICAgICAgICAgbW9kYWxSZWYuaGlkZSgnbmV3LWJsb2NrJyk7CgogICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vSWZyYW1lJykuc3JjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW9JZnJhbWUnKS5zcmM7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB0aGlzLnNob3dFcnJvckFqYXgoKTsKICAgICAgICAgIH0pOyovCiAgICAgIC8vIFRPRE8gcmVlbmFibGUgdG8gdXNlIHJpZ3RoIGFwaSBlbmRwb2ludCBpbnN0ZWFkIG9mIHRoaXMKICAgICAgdGhpcy4kYXhpb3MucHV0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIHRoaXMuJHJlc3RSb3V0ZSArICcvcmVzdC9pbmRleC5waHA/X3Jlc3Q9QmxvY2tzLycsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgYXhpb3NDb25maWcpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Jsb2NrLXNlbGVjdGVkJywgcmVzcG9uc2UuZGF0YS5vYmplY3QpOwogICAgICAgICAgICAvL3RoaXMuJHJvb3QuJGVtaXQoJ3JlbG9hZC1ib2Nrcy1saXN0JywgZGF0YSk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlJywgdHJ1ZSk7CiAgICAgICAgICAgIHRoaXMuYmxvY2tEYXRhLmNodW5rTmFtZSA9ICcnOwogICAgICAgICAgICB0aGlzLmJsb2NrRGF0YS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICAgICAgICBtb2RhbFJlZi5oaWRlKCduZXctYmxvY2snKTsKCiAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW9JZnJhbWUnKS5zcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtb0lmcmFtZScpLnNyYzsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yQWpheCgpOwogICAgICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["newBlockComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newBlockComponent.vue","sourceRoot":"vloxEditor/src/components","sourcesContent":["<!--\n  - This file is part of VloX.\n  -\n  - Copyright (c) TROTALO, SAS. All Rights Reserved.\n  -\n  - For complete copyright and license information, see the COPYRIGHT and LICENSE\n  - files found in the top-level directory of this distribution.\n  -->\n\n<template>\n  <b-modal\n      ref=\"new-block\" id=\"new-block\" title=\"New VloX\" size=\"xl\" scrollable>\n    <b-form class=\"smallForm\">\n      <b-form-group\n          id=\"input-group-1\"\n          label=\"Block name\"\n          label-for=\"input-1\">\n        <validation-provider name=\"Name\" rules=\"min:5|alpha_dash\" v-slot=\"{ errors }\">\n          <b-form-input\n              id=\"input-1\"\n              v-model=\"blockData.chunkName\"\n              placeholder=\"Enter at least 5 characters\"\n              :state=\"validName\"\n              required>\n          </b-form-input>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-2\" label=\"Blocks description:\" label-for=\"input-2\">\n        <validation-provider name=\"Description\" rules=\"min:10|alpha_spaces\" v-slot=\"{ errors }\">\n          <b-form-textarea\n              id=\"textarea\"\n              v-model=\"blockData.description\"\n              placeholder=\"Enter a description for your block\"\n              rows=\"3\"\n              max-rows=\"6\"\n          ></b-form-textarea>\n          <span class=\"text-danger\">{{ errors[0] }}</span>\n        </validation-provider>\n      </b-form-group>\n    </b-form>\n    <template #modal-footer>\n      <div class=\"addButton w-100\">\n        <b-button\n            variant=\"outline-primary\"\n            class=\"addvloxBlock\"\n            @click=\"save(blockData)\"\n            type=\"button\">Create Block\n        </b-button>\n      </div>\n    </template>\n  </b-modal>\n</template>\n\n<script>\n\n/*\naxios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/blocks')\n    .then(response => {\n      blockList = response.data;\n    })\n    .catch(error => {\n      alert('The ajax petition has problem doing a GET request, please verify the blocks Controller.');\n    });\n*/\n\n/*\nExample of custom validation\nVeeValidate.extend('description', {\n  validate: (value) => (value && value.length > 9),\n  message: 'Please add a description of at least 10 characters'\n});*/\n// Register the component globally.\n//Vue.component('validation-provider', VeeValidate.ValidationProvider);\n\nexport default {\n  name: \"new-block-component\",\n  data() {\n    return {\n      blockData: {\n        chunkName: '',\n        description: ''\n      },\n      validName: null,\n      blockList: [],\n    }\n  },\n  methods: {\n    onSelectBlock (blockData) {\n      this.blockData = blockData;\n      document.getElementById('componentPreview').src = document.getElementById('componentPreview').src;\n    },\n    save(data) {\n      let axiosConfig = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        }\n      };\n      const modalRef = this.$bvModal;\n      //first validate that the block does not exists\n      /*axios.get(window.location.protocol + \"//\" + window.location.host + Vue.prototype.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });*/\n      // TODO reenable to use rigth api endpoint instead of this\n      this.$axios.put(window.location.protocol + \"//\" + window.location.host + this.$restRoute + '/rest/index.php?_rest=Blocks/',\n          data,\n          axiosConfig)\n          .then(response => {\n            this.$emit('block-selected', response.data.object);\n            //this.$root.$emit('reload-bocks-list', data);\n            this.$store.commit('change', true);\n            this.blockData.chunkName = '';\n            this.blockData.description = '';\n            modalRef.hide('new-block');\n\n            //document.getElementById('demoIframe').src = document.getElementById('demoIframe').src;\n          })\n          .catch(error => {\n            console.log(error);\n            this.showErrorAjax();\n          });\n      console.log(data);\n    },\n  }\n};\n</script>\n<style scope>\n\n</style>"]}]}